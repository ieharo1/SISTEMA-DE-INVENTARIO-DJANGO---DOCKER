{% extends "base.html" %}
{% block title %}{{ title|default:"Producto" }}{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <div>
    <h1 class="h3 mb-1"><i class="bi bi-pencil-square"></i> {{ title|default:"Producto" }}</h1>
    <p class="text-muted mb-0">Completa la informacion comercial del producto</p>
  </div>
</div>

<form method="post" enctype="multipart/form-data" class="card">
  {% csrf_token %}
  <div class="card-body row g-3">
    {% if form.non_field_errors %}
      <div class="col-12">
        <div class="alert alert-danger mb-0">{{ form.non_field_errors|striptags }}</div>
      </div>
    {% endif %}

    <div class="col-md-4">
      <label class="form-label" for="id_sku">SKU</label>
      {{ form.sku }}
      {% if form.sku.errors %}<div class="invalid-feedback d-block">{{ form.sku.errors|striptags }}</div>{% endif %}
    </div>

    <div class="col-md-8">
      <label class="form-label" for="id_name">Nombre</label>
      {{ form.name }}
      {% if form.name.errors %}<div class="invalid-feedback d-block">{{ form.name.errors|striptags }}</div>{% endif %}
    </div>

    <div class="col-md-12">
      <label class="form-label" for="id_description">Descripcion</label>
      {{ form.description }}
      {% if form.description.errors %}<div class="invalid-feedback d-block">{{ form.description.errors|striptags }}</div>{% endif %}
    </div>

    <div class="col-md-4">
      <label class="form-label" for="id_category">Categoria</label>
      {{ form.category }}
      {% if form.category.errors %}<div class="invalid-feedback d-block">{{ form.category.errors|striptags }}</div>{% endif %}
    </div>

    <div class="col-md-4">
      <label class="form-label" for="id_cost_price">Precio compra</label>
      {{ form.cost_price }}
      {% if form.cost_price.errors %}<div class="invalid-feedback d-block">{{ form.cost_price.errors|striptags }}</div>{% endif %}
    </div>

    <div class="col-md-4">
      <label class="form-label" for="id_sale_price">Precio venta</label>
      {{ form.sale_price }}
      {% if form.sale_price.errors %}<div class="invalid-feedback d-block">{{ form.sale_price.errors|striptags }}</div>{% endif %}
    </div>

    <div class="col-md-8">
      <label class="form-label" for="id_image">Imagen</label>
      {{ form.image }}
      {% if form.image.errors %}<div class="invalid-feedback d-block">{{ form.image.errors|striptags }}</div>{% endif %}
    </div>

    <div class="col-md-4 d-flex align-items-end">
      <div class="form-check">
        {{ form.is_active }}
        <label class="form-check-label" for="id_is_active">Producto activo</label>
      </div>
    </div>
  </div>
  <div class="card-footer d-flex justify-content-end gap-2">
    <a class="btn btn-outline-secondary" href="{% url "products:product_list" %}">Cancelar</a>
    <button class="btn btn-primary" type="submit"><i class="bi bi-check2-circle"></i> Guardar</button>
  </div>
</form>
{% endblock %}
